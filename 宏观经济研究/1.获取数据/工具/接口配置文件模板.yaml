# 数据接口配置文件模板
# 支持akshare和baostock接口配置
# 每个接口配置包含名称、类型、函数名、参数、字段、存储和图表设置

interfaces:
  - name: "股票市值数据"
    type: "akshare"
    function: "macro_china_stock_market_cap"
    params: {}  # 该接口不需要参数
    fields:
      - "数据日期"
      - "发行总股本-上海"
      - "发行总股本-深圳"
      - "市价总值-上海"
      - "市价总值-深圳"
      - "成交金额-上海"
      - "成交金额-深圳"
      - "成交量-上海"
      - "成交量-深圳"
    storage:
      format: "csv"
      path: "./data/"
    chart:
      type: "line"
      x: "数据日期"
      y: ["市价总值-上海", "市价总值-深圳","成交金额-上海","成交金额-深圳"]  # 单Y轴多数据配置
      title: "沪深股市总市值趋势"
      x_label: "日期"
      y_label: "市值(亿元)"

  - name: "股票市值与成交金额"
    type: "akshare"
    function: "macro_china_stock_market_cap"
    params: {}
    fields:
      - "数据日期"
      - "市价总值-上海"
      - "市价总值-深圳"
      - "成交金额-上海"
      - "成交金额-深圳"
    storage:
      format: "csv"
      path: "./data/"
    chart:
      type: "line"
      x: "数据日期"
      left_y:  # 左侧Y轴多数据配置
        - name: "市价总值-上海"
          label: "市值(亿元)"
        - name: "市价总值-深圳"
          label: "市值(亿元)"
      right_y:  # 右侧Y轴多数据配置
        - name: "成交金额-上海"
          label: "成交金额(亿元)"
        - name: "成交金额-深圳"
          label: "成交金额(亿元)"
      title: "沪深股市市值与成交金额趋势"
      x_label: "日期"

  - name: "股票历史K线"
    type: "baostock"
    function: "query_history_k_data_plus"
    params:
      code: "sh.000300"  # 股票代码
      start_date: "2023-01-01"  # 开始日期
      end_date: "2025-08-21"  # 结束日期
      frequency: "d"  # 周期：d=日k线, w=周k线, m=月k线
      adjustflag: "3"  # 复权类型：3=不复权，2=后复权，1=前复权
      fields: "date,open,high,low,close,volume"  # 必填字段参数
    fields:
      - "date"  # 日期
      - "open"  # 开盘价
      - "high"  # 最高价
      - "low"   # 最低价
      - "close" # 收盘价
      - "volume" # 成交量
    storage:
      format: "csv"
      path: "./data/"
    chart:
      type: "candle"  # K线图
      x: "date"
      open: "open"
      high: "high"
      low: "low"
      close: "close"
      title: "股票历史K线图"
      x_label: "日期"
      y_label: "价格(元)"

  - name: "获取沪深300ETF净值数据"
    type: "akshare"
    function: "fund_etf_hist_em"
    params: 
      symbol: "510310"
      adjust: "qfq"
    fields:
      - "日期"
      - "收盘"
      - "成交量"
    storage:
      format: "csv"
      path: "./data/"
    chart:
      type: "line"
      x: "日期"
      left_y:  # 左侧Y轴多数据配置
        - name: "收盘"
          label: "收盘(亿元)"
      right_y:  # 右侧Y轴多数据配置
        - name: "成交量"
          label: "成交量(亿元)"
      title: "获取沪深300ETF净值数据趋势"
      x_label: "日期"

  - name: "全国税收收入"
    type: "akshare"
    function: "macro_china_national_tax_receipts"
    params: {}  # 该接口不需要参数
    fields:
      - "季度"
      - "税收收入合计"
    storage:
      format: "csv"
      path: "./data/"
    chart:
      type: "line"
      x: "季度"
      parse_x_as_date: false  # 将x轴解析为日期
      y: ["税收收入合计"]
      title: "全国税收收入趋势"
      x_label: "季度"
      y_label: "税收收入合计(亿元)"


  - name: "可转债数据一览表"
    type: "akshare"
    function: "bond_zh_cov"
    params: {}  # 该接口不需要参数
    fields: ['债券代码', '债券简称', '申购日期', '申购代码', '申购上限', '正股代码', '正股简称', '正股价', '转股价', '转股价值', '债现价', '转股溢价率', '原股东配售-股权登记日', '原股东配售-每股配售额', '发行规模', '中签号发布日', '中签率', '上市时间', '信用评级']
    storage:
      format: "csv"
      path: "./data/"


      